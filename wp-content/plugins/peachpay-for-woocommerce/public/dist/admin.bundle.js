(()=>{var e={5449:function(e,t,n){!function(e){"use strict";var t,n=function(){try{if(e.URLSearchParams&&"bar"===new e.URLSearchParams("foo=bar").get("foo"))return e.URLSearchParams}catch(e){}return null}(),r=n&&"a=1"===new n({a:1}).toString(),o=n&&"+"===new n("s=%2B").get("s"),a=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),i=u.prototype,s=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&r&&o&&a)){var c;i.append=function(e,t){y(this.__URLSearchParams__,e,t)},i.delete=function(e){delete this.__URLSearchParams__[e]},i.get=function(e){var t=this.__URLSearchParams__;return this.has(e)?t[e][0]:null},i.getAll=function(e){var t=this.__URLSearchParams__;return this.has(e)?t[e].slice(0):[]},i.has=function(e){return m(this.__URLSearchParams__,e)},i.set=function(e,t){this.__URLSearchParams__[e]=[""+t]},i.toString=function(){var e,t,n,r,o=this.__URLSearchParams__,a=[];for(t in o)for(n=d(t),e=0,r=o[t];e<r.length;e++)a.push(n+"="+d(r[e]));return a.join("&")},!!o&&n&&!r&&e.Proxy?(c=new Proxy(n,{construct:function(e,t){return new e(new u(t[0]).toString())}})).toString=Function.prototype.toString.bind(u):c=u,Object.defineProperty(e,"URLSearchParams",{value:c});var l=e.URLSearchParams.prototype;l.polyfill=!0,l.forEach=l.forEach||function(e,t){var n=f(this.toString());Object.getOwnPropertyNames(n).forEach((function(r){n[r].forEach((function(n){e.call(t,n,r,this)}),this)}),this)},l.sort=l.sort||function(){var e,t,n,r=f(this.toString()),o=[];for(e in r)o.push(e);for(o.sort(),t=0;t<o.length;t++)this.delete(o[t]);for(t=0;t<o.length;t++){var a=o[t],i=r[a];for(n=0;n<i.length;n++)this.append(a,i[n])}},l.keys=l.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},l.values=l.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},l.entries=l.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},s&&(l[e.Symbol.iterator]=l[e.Symbol.iterator]||l.entries)}function u(e){((e=e||"")instanceof URLSearchParams||e instanceof u)&&(e=e.toString()),this.__URLSearchParams__=f(e)}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function p(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}function h(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(n[e.Symbol.iterator]=function(){return n}),n}function f(e){var t={};if("object"==typeof e)if(v(e))for(var n=0;n<e.length;n++){var r=e[n];if(!v(r)||2!==r.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");y(t,r[0],r[1])}else for(var o in e)e.hasOwnProperty(o)&&y(t,o,e[o]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var a=e.split("&"),i=0;i<a.length;i++){var s=a[i],c=s.indexOf("=");-1<c?y(t,p(s.slice(0,c)),p(s.slice(c+1))):s&&y(t,p(s),"")}}return t}function y(e,t,n){var r="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);m(e,t)?e[t].push(r):e[t]=[r]}function v(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:this)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.p="",(()=>{"use strict";n(5449);var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e,t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var n;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&((n=e)&&DataView.prototype.isPrototypeOf(n))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var L=[301,302,303,307,308];_.redirect=function(e,t){if(-1===L.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var E=e.DOMException;try{new E}catch(e){(E=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function S(t,n){return new Promise((function(r,a){var s=new g(t,n);if(s.signal&&s.signal.aborted)return a(new E("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}c.onload=function(){var e,t,n={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var o="response"in c?c.response:c.responseText;setTimeout((function(){r(new _(o,n))}),0)},c.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){a(new E("Aborted","AbortError"))}),0)},c.open(s.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(s.url),!0),"include"===s.credentials?c.withCredentials=!0:"omit"===s.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":i&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof p?s.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){c.setRequestHeader(e,u(n.headers[e]))})),s.signal&&(s.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&s.signal.removeEventListener("abort",l)}),c.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=p,e.Request=g,e.Response=_)})(),(()=>{"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))}function t(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;function o(e,t){void 0===t&&(t=null);var n=document.querySelector(e);return n&&null!==t&&t(n),n}function a(e,t){var n,o,a=Array.from(document.querySelectorAll(e));if(t)try{for(var i=r(a),s=i.next();!s.done;s=i.next()){t(s.value)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return a}const i=n.p+"img/ceae3f7fe5395fcdc780-spinner-dark.svg";function s(n){var r=this,o=document.querySelector("#"+n+"-verify-apay-button"),a=document.querySelector("#"+n+"-verify-apay-spinner"),i=document.querySelector("#"+n+"-verify-apay-error");if(o&&a&&i){o.addEventListener("click",(function(){return e(r,void 0,void 0,(function(){var e,r,s,c;return t(this,(function(t){switch(t.label){case 0:return i.innerHTML="",a.classList.remove("hide"),o.classList.add("hide"),e="square"===n?"pp-square-applepay-domain-register":"pp-stripe-applepay-domain-register",(r=new FormData).append("action",e),r.append("security",peachpay_admin.nonces.applepay_domain_register),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:r})];case 1:return[4,t.sent().json()];case 2:return(s=t.sent()).success?(location.reload(),[2]):(a.classList.add("hide"),o.classList.remove("hide"),l=null!==(c=s.message)&&void 0!==c?c:"",i.innerHTML=l,[2])}var l}))}))}))}}function c(){var n=this,r=o("input.peachpay-applepay-reset");if(r){var a=document.createElement("div");a.classList.add("peachpay"),a.classList.add("row"),a.innerHTML='\n    <button class="button peachpay-applepay-reset-button" type="button" style="height: 1.6rem;">Reset</button>\n    <img src="'.concat(peachpay_admin.asset_url+i,'" class="peachpay-applepay-reset-spinner hide" style="height: 1.6rem;">\n    <span class="peachpay-applepay-reset-error"></span>');var s=a.querySelector(".peachpay-applepay-reset-button"),c=a.querySelector(".peachpay-applepay-reset-spinner"),l=a.querySelector(".peachpay-applepay-reset-error");if(s&&c&&l){s.addEventListener("click",(function(){return e(n,void 0,void 0,(function(){var e,n,o,a;return t(this,(function(t){switch(t.label){case 0:return l.innerHTML="",c.classList.remove("hide"),s.classList.add("hide"),e="peachpay_stripe_applepay"===r.dataset.gateway?"pp-stripe-applepay-domain-register":"pp-square-applepay-domain-register",(n=new FormData).append("action",e),n.append("security",peachpay_admin.nonces.applepay_domain_register),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:n})];case 1:return[4,t.sent().json()];case 2:return(o=t.sent()).success?(location.reload(),[2]):(c.classList.add("hide"),s.classList.remove("hide"),i=null!==(a=o.message)&&void 0!==a?a:"",l.innerHTML=i,[2])}var i}))}))})),r.insertAdjacentElement("beforebegin",a)}}}function l(){var e,t,n=new URLSearchParams(window.location.search),r=n.get("page")&&"peachpay"===(null===(e=n.get("page"))||void 0===e?void 0:e.slice(0,8)),o=n.get("section")&&"peachpay"===(null===(t=n.get("section"))||void 0===t?void 0:t.slice(0,8));(r||o)&&(window.intercomSettings={api_base:"https://api-iam.intercom.io",app_id:"moaljum2"},function(){var e=window,t=e.Intercom;if("function"==typeof t)t("reattach_activator"),t("update",e.intercomSettings);else{var n=document,r=function(){r.c(arguments)};r.q=[],r.c=function(e){r.q.push(e)},e.Intercom=r;var o=function(){var e=n.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/moaljum2";var t=n.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)};"complete"===document.readyState?o():e.attachEvent?e.attachEvent("onload",o):e.addEventListener("load",o,!1)}}(),document.querySelectorAll("#peachpay-nav .support-icon-link").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),window.Intercom("show")}))})))}function u(e,t){"string"==typeof e&&"string"==typeof t&&("payment"===e&&function(e,t,n){var r=new URLSearchParams(window.location.search);if("string"!=typeof e)return;if(document.cookie="pp_sub_nav_".concat(e).concat(t?"_".concat(t):"","=").concat(n),"peachpay"!==r.get("page")||r.get("tab")!==e||r.get("section")!==t){var o=new URL(window.location.href);o.searchParams.delete("page"),o.searchParams.delete("tab"),o.searchParams.delete("section"),o.searchParams.set("page","peachpay"),o.searchParams.set("tab",String(e)),t&&o.searchParams.set("section",String(t)),window.location.href=o.pathname+o.search}}("payment",null,"pp-sub-nav-".concat(t)),d(e,t,"pp-sub-nav-".concat(t)))}function d(e,t,n){var r,o,a=document.getElementById(n);if(a){var i=null===(r=null==a?void 0:a.closest("#peachpay_settings_container"))||void 0===r?void 0:r.querySelectorAll(".pp-header:not(.pp-header-static)");null==i||i.forEach((function(e){e.classList.contains(n)?e.classList.remove("hide"):e.classList.add("hide")}));var s=null===(o=null==a?void 0:a.closest("#peachpay_settings_container"))||void 0===o?void 0:o.querySelectorAll(".pp-sub-nav-button-active:not(#".concat(n,")"));null==s||s.forEach((function(e){e.classList.remove("pp-sub-nav-button-active")})),a.classList.add("pp-sub-nav-button-active"),function(e,t){var n;document.querySelectorAll("div.nav-sub-tab.current").forEach((function(n){n.getAttribute("data-hash")===t&&n.getAttribute("data-tab")===e||n.classList.remove("current")})),null===(n=document.querySelector('div.nav-sub-tab[data-hash="'.concat(null!=t?t:"",'"][data-tab="').concat(null!=e?e:"",'"]')))||void 0===n||n.classList.add("current")}(e,t)}}function p(e,t){var n=e.clientX,r=e.clientY;return n>t.left-8&&n<t.right+8&&r>t.top-8&&r<t.bottom+8}function h(){var e,t;document.querySelectorAll("div.nav-sub-tab").forEach((function(e){e.addEventListener("click",(function(){var t,n,r=null===(t=null==e?void 0:e.getAttribute("data-hash"))||void 0===t?void 0:t.replace(/^["']|["']$/g,"");u(null===(n=null==e?void 0:e.getAttribute("data-tab"))||void 0===n?void 0:n.replace(/^["']|["']$/g,""),r),history.pushState("",document.title,window.location.pathname+window.location.search)})),e.addEventListener("keypress",(function(t){"Enter"!==t.key&&"Space"!==t.key||e.click()}))})),null===(e=document.querySelector(".top-nav-link.current"))||void 0===e||e.addEventListener("click",(function(e){var t;e.stopImmediatePropagation();var n=null===(t=e.target)||void 0===t?void 0:t.closest(".top-nav-link-group");if(window.innerWidth>1399?null==n||n.classList.remove("expanded"):(e.preventDefault(),null==n||n.classList.toggle("expanded")),null==n?void 0:n.classList.contains("expanded")){var r=function(e){var t,o,a;(null===(t=e.target)||void 0===t?void 0:t.closest(".peachpay-accordion"))&&(null===(a=null===(o=e.target)||void 0===o?void 0:o.closest(".peachpay-accordion"))||void 0===a?void 0:a.contains(n))||(null==n||n.classList.remove("expanded"),document.removeEventListener("click",r))};document.addEventListener("click",r)}})),null===(t=document.querySelector(".hamburger-menu"))||void 0===t||t.addEventListener("click",(function(){var e,t=function(e){var n,r,o;(null===(n=e.target)||void 0===n?void 0:n.classList.contains("hamburger-menu"))||(null===(r=e.target)||void 0===r?void 0:r.closest(".peachpay-side-nav"))||(null===(o=document.querySelector(".peachpay-side-nav"))||void 0===o||o.classList.remove("shown"),document.removeEventListener("click",t),document.body.style.removeProperty("overflow"),a(".pp-admin-content, #peachpay-nav, #wpadminbar").forEach((function(e){e.style.pointerEvents="all"})))};a(".pp-admin-content, #peachpay-nav, #wpadminbar").forEach((function(e){e.style.pointerEvents="none"})),null===(e=document.querySelector(".peachpay-side-nav"))||void 0===e||e.classList.add("shown"),document.body.style.overflow="hidden",document.addEventListener("click",t)}))}function f(e,t,n,r,o){var a;if("visible"!==(null===(a=t.querySelector(".pp-fees-editor"))||void 0===a?void 0:a.style.visibility)&&t.querySelector(".rate")!==document.activeElement){var i=t.getBoundingClientRect();!p(e,i)&&r||(!function(e,t){if(e.classList.contains("pp-popup-below"))window.innerWidth-t.left>e.clientWidth?e.style.left="".concat(t.left,"px"):e.style.right="8px",e.style.top="".concat(t.bottom,"px");else if(e.classList.contains("pp-popup-right"))e.style.left="".concat(t.right,"px"),e.style.top="".concat(t.top,"px");else if(e.classList.contains("pp-popup-left"))e.style.right="".concat(t.left,"px"),e.style.top="".concat(t.top,"px");else{var n=t.left+(t.right-t.left)/2;e.style.left="".concat(n,"px"),e.style.top="".concat(t.top,"px")}e.classList.add("shown")}(n,i),t.classList.add("dropdown-shown"),"mousemove"===o&&(document.addEventListener("mousemove",(function(e){p(e,n.getBoundingClientRect())||p(e,t.getBoundingClientRect())||y(n,t)})),document.addEventListener("scroll",(function(e){p(e,n.getBoundingClientRect())||p(e,t.getBoundingClientRect())||y(n,t)}))),"click"===o&&document.addEventListener("click",(function(e){p(e,n.getBoundingClientRect())||p(e,t.getBoundingClientRect())||y(n,t)})))}}function y(e,t){e.classList.remove("shown"),t.classList.remove("dropdown-shown")}function v(){a(".dashboard-container .sub-logos-toggle").forEach((function(e){e.addEventListener("click",(function(t){t.stopImmediatePropagation();var n=e.closest(".sub-logos"),r=null==n?void 0:n.querySelector(".sub-logos-toggle");(null==n?void 0:n.hasAttribute("expanded"))?(null==n||n.removeAttribute("expanded"),r&&(r.innerHTML="See more")):(null==n||n.setAttribute("expanded",""),r&&(r.innerHTML="See less"))}))})),m(),a(".opacity-zero").forEach((function(e){e.classList.remove("opacity-zero")})),window.addEventListener("resize",(function(){m()}))}function m(){a(".dashboard-section-analytics-array-data-container").forEach((function(e){window.innerWidth>620&&e.classList.contains("column-view")&&e.classList.remove("column-view"),!e.classList.contains("column-view")&&function(e){for(var t,n=e.clientWidth,r=e.children,o=0,a=0;a<r.length;a++){var i=null===(t=r[a])||void 0===t?void 0:t.clientWidth;i&&(o+=i)}return o>n}(e)&&e.classList.add("column-view")}))}function b(){document.querySelectorAll(".pp-popup-trigger").forEach((function(e){e.addEventListener("mousemove",(function(t){var n=e.querySelector(".pp-popup");n&&f(t,e,n,!0,"mousemove")}))})),document.querySelectorAll(".pp-popup-click-trigger").forEach((function(e){var t=e.querySelector(".pp-popup");e.addEventListener("click",(function(n){var r,o=null!==(r=e.closest("#pp-currency-rate-column"))&&void 0!==r?r:e;o&&f(n,o,t,!0,"click")}))})),document.querySelectorAll(".accordion-tab").forEach((function(e){e.addEventListener("click",(function(e){var t;e.stopImmediatePropagation();var n=null===(t=e.target)||void 0===t?void 0:t.closest(".accordion-tab");(null==n?void 0:n.classList.contains("expanded"))?null==n||n.classList.remove("expanded"):null==n||n.classList.add("expanded"),document.querySelectorAll(".peachpay-accordion .expanded").forEach((function(e){var t,r=!(null==e?void 0:e.isEqualNode(n)),o=null===(t=e.nextElementSibling)||void 0===t?void 0:t.classList.contains("dropdown");r&&o&&(null==e||e.classList.remove("expanded"))}))}))})),document.querySelectorAll(".pp-sub-nav-button").forEach((function(e){e.addEventListener("click",(function(){var t;history.pushState("",document.title,window.location.pathname+window.location.search);var n=new URLSearchParams(window.location.search),r=null!==(t=n.get("tab"))&&void 0!==t?t:"",o=n.get("section");document.cookie="pp_sub_nav_".concat(r).concat(o?"_".concat(o):"","=").concat(e.id),d(n.get("tab"),e.id.replace("pp-sub-nav-",""),e.id)}))})),v()}document.addEventListener("DOMContentLoaded",(function(){var n,r,i,d;i=document.querySelector(".peachpay_premium_locked_settings"),null===(n=null==i?void 0:i.querySelectorAll("input,select,button,textarea,a.pp-button-secondary"))||void 0===n||n.forEach((function(e){e.setAttribute("disabled","true"),e.tagName&&(e.addEventListener("click",(function(e){e.preventDefault()})),e.href="")})),null===(r=null==i?void 0:i.querySelectorAll(".pp-switch"))||void 0===r||r.forEach((function(e){e.classList.add("pp-switch-disabled")})),function(){var e,t,n,r;(document.querySelector("#toplevel_page_peachpay")||document.querySelector("#toplevel_page_peachpay_analytics"))&&(null===(t=null===(e=document.querySelector('a[href="admin.php?page=peachpay"].wp-first-item'))||void 0===e?void 0:e.parentElement)||void 0===t||t.remove(),null===(r=null===(n=document.querySelector('a[href="admin.php'.concat(window.location.search,'"]')))||void 0===n?void 0:n.parentElement)||void 0===r||r.classList.add("current"))}(),l(),b(),function(){var e,t=new URLSearchParams(window.location.search),n=window.location.hash;n&&u(null!==(e=t.get("tab"))&&void 0!==e?e:"",n.slice(1)),document.querySelectorAll(".pp-sub-nav-button").forEach((function(e){var t,n=null===(t=null==e?void 0:e.closest("#peachpay_settings_container"))||void 0===t?void 0:t.querySelectorAll(".pp-header.".concat(e.id));(null==n?void 0:n.length)&&(n.item(n.length-1).style.borderBottom="none")}));var r=o(".peachpay-side-nav");if(r){var i=function(){var e,t;if(window.innerWidth>782){var n=document.body.clientHeight,a=null!==(t=null===(e=o(".pp-admin-content"))||void 0===e?void 0:e.getBoundingClientRect().top)&&void 0!==t?t:0+document.body.offsetTop,i=function(e){var t,n;if(!e)return 0;if(0===e.children.length)return e.scrollHeight;var r=e.firstElementChild,o=e.lastElementChild,a=null!==(t=null==r?void 0:r.getBoundingClientRect().top)&&void 0!==t?t:0;return(null!==(n=null==o?void 0:o.getBoundingClientRect().bottom)&&void 0!==n?n:0)-a}(o(".pp-admin-content")),s=Math.max(n-a,i);r.style.maxHeight="".concat(s,"px")}else r.style.removeProperty("max-height")};i(),window.addEventListener("resize",(function(){i()})),a(".pp-sub-nav-button").forEach((function(e){e.addEventListener("click",(function(){i()}))}))}}(),h(),function(){var n=this;a(".gateway .buttons-container .activate-button, .gateway .buttons-container .deactivate-button",(function(r){r.addEventListener("click",(function(){return e(n,void 0,void 0,(function(){var e,n,o,a,i,s,c,l;return t(this,(function(t){switch(t.label){case 0:return(null===(s=null==r?void 0:r.dataset)||void 0===s?void 0:s.id)?(r.classList.add("loading"),(e=new FormData).append("action","woocommerce_toggle_gateway_enabled"),e.append("security",peachpay_admin.nonces.gateway_toggle),e.append("gateway_id",r.dataset.id),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:e})]):[2];case 1:return[4,t.sent().json()];case 2:return n=t.sent(),o=r.closest(".buttons-container"),a=null===(c=r.closest(".gateway"))||void 0===c?void 0:c.querySelector(".location-status"),i=null===(l=r.closest(".gateway"))||void 0===l?void 0:l.querySelector(".general-status"),n.success&&(n.data?(null==o||o.classList.add("enabled"),null==o||o.classList.remove("disabled"),null==i||i.classList.add("active"),null==i||i.classList.remove("inactive"),null==a||a.classList.remove("hide")):(null==o||o.classList.remove("enabled"),null==o||o.classList.add("disabled"),null==i||i.classList.remove("active"),null==i||i.classList.add("inactive"),null==a||a.classList.add("hide"))),r.classList.remove("loading"),[2]}}))}))}))}))}(),s("square"),function(){var e,t,n=o(".pp-custom-country-availability"),r=null===(e=o(".pp-custom-countries"))||void 0===e?void 0:e.nextElementSibling,a=o(".pp-custom-currency-availability"),i=null===(t=o(".pp-custom-currencies"))||void 0===t?void 0:t.nextElementSibling;n&&r&&r.classList.contains("description")&&n.addEventListener("change",(function(){"block"===n.value?r.innerHTML=peachpay_admin.translations.country_description_block:r.innerHTML=peachpay_admin.translations.country_description_allow})),a&&i&&i.classList.contains("description")&&a.addEventListener("change",(function(){"block"===a.value?i.innerHTML=peachpay_admin.translations.currency_description_block:i.innerHTML=peachpay_admin.translations.currency_description_allow}))}(),function(){var e,t,n=o(".pp-custom-country-availability"),r=null===(e=o(".pp-custom-countries"))||void 0===e?void 0:e.closest("tr"),a=o(".pp-custom-currency-availability"),i=null===(t=o(".pp-custom-currencies"))||void 0===t?void 0:t.closest("tr");n&&r&&(n.addEventListener("change",(function(){"all"===n.value?r.style.display="none":r.style.display="table-row"})),"all"===n.value&&(r.style.display="none")),a&&i&&(a.addEventListener("change",(function(){"all"===a.value?i.style.display="none":i.style.display="table-row"})),"all"===a.value&&(i.style.display="none"))}(),function(){var e=o(".pp-custom-countries"),t=o(".pp-custom-currencies"),n=document.createElement("br"),r=document.createElement("a");r.classList.add("select_all","button"),r.href="#",r.innerText=peachpay_admin.translations.select_all;var a=document.createElement("a");a.classList.add("select_none","button"),a.href="#",a.innerText=peachpay_admin.translations.select_none,a.style.marginLeft="5px",null==t||t.insertAdjacentElement("afterend",a),null==t||t.insertAdjacentElement("afterend",r),null==e||e.insertAdjacentElement("afterend",a.cloneNode(!0)),null==e||e.insertAdjacentElement("afterend",r.cloneNode(!0)),null==t||t.insertAdjacentElement("afterend",n),null==e||e.insertAdjacentElement("afterend",n.cloneNode(!0))}(),d=function(){document.querySelectorAll(".see-more-target").forEach((function(e){var t,n,r,o,a,i,s,c=e.closest(".see-more-wrap"),l=null===(t=null==c?void 0:c.querySelector(".see-more-target"))||void 0===t?void 0:t.offsetHeight,u=null===(n=null==c?void 0:c.querySelector(".see-more-target"))||void 0===n?void 0:n.scrollHeight;l&&u&&l<u&&(null===(r=null==c?void 0:c.querySelector(".fade-bottom"))||void 0===r||r.classList.remove("hide"),null===(a=null===(o=null==c?void 0:c.parentElement)||void 0===o?void 0:o.querySelector(".see-more-trigger"))||void 0===a||a.classList.remove("hide"),null===(s=null===(i=null==c?void 0:c.parentElement)||void 0===i?void 0:i.querySelector(".see-more-state"))||void 0===s||s.classList.remove("hide"))}))},d(),a("#peachpay_settings_container .pp-sub-nav-button:not(.pp-sub-nav-floating)",(function(e){e.addEventListener("click",(function(){d()}))})),s("stripe"),function(){var n=this,r=o('#pp-stripe-actions input[name="order_id"]'),i=o('#pp-stripe-actions input[name="amount"]'),s=o('#pp-stripe-actions button[name="capture"]'),c=o('#pp-stripe-actions button[name="void"]'),l=o(".error-message");if(i&&r&&s&&c&&l){var u=function(){return a("#pp-stripe-actions input, #pp-stripe-actions button",(function(e){e.setAttribute("disabled","true")}))},d=function(){return a("#pp-stripe-actions input, #pp-stripe-actions button",(function(e){e.removeAttribute("disabled")}))},p=function(){l.innerHTML=""},h=function(e){l.innerHTML=e};s.addEventListener("click",(function(o){return e(n,void 0,void 0,(function(){var e,n,a,s,c;return t(this,(function(t){switch(t.label){case 0:return o.preventDefault(),i.checkValidity()?(p(),u(),e=r.value,n=i.value,(a=new FormData).append("action","pp-stripe-capture-payment"),a.append("security",peachpay_admin.nonces.stripe_capture_payment),a.append("order_id",e),a.append("amount_to_capture",n),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:a})]):(i.reportValidity(),[2]);case 1:return[4,t.sent().json()];case 2:return(s=t.sent()).success?(location.reload(),[2]):(d(),h(null!==(c=s.message)&&void 0!==c?c:""),[2])}}))}))})),c.addEventListener("click",(function(o){return e(n,void 0,void 0,(function(){var e,n,a,i;return t(this,(function(t){switch(t.label){case 0:return o.preventDefault(),p(),u(),e=r.value,(n=new FormData).append("action","pp-stripe-void-payment"),n.append("security",peachpay_admin.nonces.stripe_void_payment),n.append("order_id",e),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:n})];case 1:return[4,t.sent().json()];case 2:return(a=t.sent()).success?(location.reload(),[2]):(d(),h(null!==(i=a.message)&&void 0!==i?i:""),[2])}}))}))}))}}(),function(){var n=this,r=o('#pp-authnet-actions input[name="order_id"]'),i=o('#pp-authnet-actions input[name="amount"]'),s=o('#pp-authnet-actions button[name="capture"]'),c=o('#pp-authnet-actions button[name="void"]'),l=o(".error-message");if(i&&r&&s&&c&&l){var u=function(){return a("#pp-authnet-actions input, #pp-authnet-actions button",(function(e){e.setAttribute("disabled","true")}))},d=function(){return a("#pp-authnet-actions input, #pp-authnet-actions button",(function(e){e.removeAttribute("disabled")}))},p=function(){l.innerHTML=""},h=function(e){l.innerHTML=e};s.addEventListener("click",(function(o){return e(n,void 0,void 0,(function(){var e,n,a,s,c;return t(this,(function(t){switch(t.label){case 0:return o.preventDefault(),i.checkValidity()?(p(),u(),e=r.value,n=i.value,(a=new FormData).append("action","pp-authnet-capture-payment"),a.append("security",peachpay_admin.nonces.authnet_capture_payment),a.append("order_id",e),a.append("amount_to_capture",n),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:a})]):(i.reportValidity(),[2]);case 1:return[4,t.sent().json()];case 2:return(s=t.sent()).success?(location.reload(),[2]):(d(),h(null!==(c=s.message)&&void 0!==c?c:""),[2])}}))}))})),c.addEventListener("click",(function(o){return e(n,void 0,void 0,(function(){var e,n,a,i;return t(this,(function(t){switch(t.label){case 0:return o.preventDefault(),p(),u(),e=r.value,(n=new FormData).append("action","pp-authnet-void-payment"),n.append("security",peachpay_admin.nonces.authnet_void_payment),n.append("order_id",e),[4,fetch(peachpay_admin.admin_ajax,{method:"POST",body:n})];case 1:return[4,t.sent().json()];case 2:return(a=t.sent()).success?(location.reload(),[2]):(d(),h(null!==(i=a.message)&&void 0!==i?i:""),[2])}}))}))}))}}(),c()}))})()})();